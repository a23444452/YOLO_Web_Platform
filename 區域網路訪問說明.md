# YOLO Web Platform - 區域網路訪問設定說明

## 🌐 目前配置

您的電腦 IP: **192.168.1.194**

### ✅ 已完成的配置

1. **前端配置**
   - ✅ Vite dev server 設定為 `--host` 模式（監聽所有網路介面）
   - ✅ 創建 `.env` 檔案，API URL 設為 `http://192.168.1.194:8000`

2. **後端配置**
   - ✅ Uvicorn 已設定為 `host="0.0.0.0"`（監聽所有網路介面）
   - ✅ CORS 允許來自 `http://192.168.1.194:5173` 的請求

---

## 🚀 啟動步驟

### 1. 啟動後端

```bash
cd /Users/vincewang/YOLO-Project/backend
source venv/bin/activate
python -m yolo_api.main
```

後端會在以下網址運行：
- **本機訪問**: http://localhost:8000
- **區域網路訪問**: http://192.168.1.194:8000

### 2. 啟動前端

```bash
cd /Users/vincewang/YOLO-Project/frontend
pnpm dev
```

前端會顯示類似以下訊息：
```
VITE v7.3.1  ready in XXX ms

➜  Local:   http://localhost:5173/
➜  Network: http://192.168.1.194:5173/
```

---

## 📱 其他裝置訪問方式

### 在同一個區域網路（WiFi）下的任何裝置

1. **開啟瀏覽器**
2. **輸入網址**: `http://192.168.1.194:5173`
3. **即可開始使用平台！**

支援的裝置：
- ✅ 其他電腦（Windows、Mac、Linux）
- ✅ 手機（iPhone、Android）
- ✅ 平板（iPad、Android Tablet）
- ✅ 任何具有瀏覽器的裝置

---

## ⚠️ 注意事項

### 1. 防火牆設定

如果其他裝置無法連線，需要檢查防火牆設定：

**macOS 防火牆**：
```bash
# 檢查防火牆狀態
sudo /usr/libexec/ApplicationFirewall/socketfilterfw --getglobalstate

# 如果防火牆開啟，需要允許 Python 的連線
```

**或直接在系統偏好設定**：
- 系統偏好設定 → 安全性與隱私 → 防火牆
- 點擊「防火牆選項」
- 確保允許 Python 或 Node 的連線

### 2. 同一個 WiFi 網路

- ⚠️ 所有裝置必須連接到**同一個 WiFi 網路**
- ⚠️ 有些企業或公共 WiFi 會隔離裝置，導致無法連線

### 3. IP 位址可能變動

如果您的電腦 IP 變更（例如重新連線 WiFi），需要更新設定：

```bash
# 1. 查詢新的 IP 位址
ipconfig getifaddr en0

# 2. 更新前端 .env 檔案
# 修改 VITE_API_URL=http://<新IP>:8000

# 3. 更新後端 config.py
# 在 cors_origins 中新增新的 IP

# 4. 重啟前後端服務
```

### 4. 使用固定 IP（可選）

若要避免 IP 變動，可在路由器設定中為這台電腦分配固定 IP：
- 登入路由器管理介面
- 找到「DHCP 設定」或「靜態 IP」
- 為這台電腦的 MAC 位址綁定固定 IP

---

## 🔒 安全性建議

### 目前配置適用於：
- ✅ 家庭網路
- ✅ 辦公室內部網路
- ✅ 受信任的區域網路

### ⚠️ 不適用於：
- ❌ 公開網路（不要在咖啡廳等公共場所使用）
- ❌ 不受信任的網路環境

### 若需要對外公開，建議：
1. 使用反向代理（Nginx、Caddy）
2. 設定 HTTPS 憑證
3. 加入身份驗證機制
4. 使用防火牆限制訪問

---

## 🧪 測試連線

### 測試後端連線

在其他裝置的瀏覽器中開啟：
```
http://192.168.1.194:8000/docs
```

應該會看到 FastAPI 的 Swagger UI 文檔頁面。

### 測試前端連線

在其他裝置的瀏覽器中開啟：
```
http://192.168.1.194:5173
```

應該會看到 YOLO Web Platform 的首頁。

---

## 📝 切換回本機模式

如果只想在本機使用，修改前端 `.env`：

```env
# 改回 localhost
VITE_API_URL=http://localhost:8000
```

然後重啟前端即可。

---

## 🆘 疑難排解

### 問題 1: 其他裝置無法訪問

**檢查清單**：
1. ✅ 前後端服務都已啟動
2. ✅ 裝置連接到同一個 WiFi
3. ✅ 防火牆允許連線
4. ✅ IP 位址正確（執行 `ipconfig getifaddr en0` 確認）

### 問題 2: 連得到前端但 API 無法使用

**可能原因**：
- 後端未啟動
- CORS 設定錯誤
- 防火牆阻擋 8000 端口

**解決方法**：
1. 檢查後端是否運行（瀏覽器開啟 http://192.168.1.194:8000/docs）
2. 檢查前端 Console 的錯誤訊息
3. 確認 CORS 設定包含正確的前端 URL

### 問題 3: API URL 錯誤

開啟瀏覽器的開發者工具（F12），查看 Network 標籤：
- 檢查 API 請求是否發送到正確的 URL
- 確認 `.env` 檔案的 `VITE_API_URL` 設定正確
- 記得修改 `.env` 後需要重啟前端

---

## 📊 網路架構圖

```
┌─────────────────┐
│   您的電腦      │
│ 192.168.1.194   │
│                 │
│ ┌─────────────┐ │
│ │  後端 :8000 │ │
│ └─────────────┘ │
│ ┌─────────────┐ │
│ │  前端 :5173 │ │
│ └─────────────┘ │
└────────┬────────┘
         │
    WiFi 路由器
         │
    ┌────┴────┬────────┬────────┐
    │         │        │        │
  手機A     手機B    電腦B    平板C
```

---

## ✨ 完成！

現在任何連接到相同 WiFi 的裝置，都可以透過 `http://192.168.1.194:5173` 訪問您的 YOLO Web Platform！
